<mat-card>
    <mat-card-header>
        <h1>Calendar options</h1>
    </mat-card-header>
    <mat-card-content>
        <form class="options-form"
              [formGroup]="datesForm"
              (ngSubmit)="onSubmit()">
            <div class="side-by-side-group">
                <mat-form-field appearance="fill">
                    <mat-label>Booking Duration</mat-label>
                    <input matInput
                           placeholder="Booking Duration in minutes"
                           type="number"
                           formControlName="bookingDuration">
                </mat-form-field>

                <mat-checkbox (change)="toggleWeekends($event.checked)">Open on weekends</mat-checkbox>
            </div>

            <div class="side-by-side-group">
                <mat-form-field appearance="fill">
                    <mat-label>Opening Hour</mat-label>
                    <input matInput
                           placeholder="Open Hour"
                           type="time"
                           formControlName="openingHour">
                </mat-form-field>

                <mat-form-field appearance="fill">
                    <mat-label>Closing Hour</mat-label>
                    <input matInput
                           placeholder="Close Hour"
                           type="time"
                           formControlName="closingHour">
                </mat-form-field>
            </div>

            <ng-container *ngIf="openWeekends">
                <div class="side-by-side-group">
                    <mat-form-field appearance="fill">
                        <mat-label>Weekend Opening Hour</mat-label>
                        <input matInput
                               placeholder="Open Hour"
                               type="time"
                               formControlName="weekendOpeningHour">
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Weekend Closing Hour</mat-label>
                        <input matInput
                               placeholder="Close Hour"
                               type="time"
                               formControlName="weekendClosingHour">
                    </mat-form-field>
                </div>
            </ng-container>

            <div class="side-by-side-group">
                <div>
                    <p>Add Closed Days:</p>
                    <mat-form-field appearance="fill">
                        <mat-label>Choose a date</mat-label>
                        <input matInput
                               (dateChange)="addDate($event)"
                               [matDatepicker]="picker">
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matSuffix
                                               [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>

                <div>
                    <p class="hint">*Click on an item to toggle from specific date to yearly</p>
                    <mat-chip-list aria-label="Fish selection">
                        <mat-chip *ngFor="let date of filterSpecificDates"
                                  color="primary"
                                  [removable]="true"
                                  (removed)="removeSpecificDate(date)"
                                  (click)="toggleDateToEveryYear(date)">
                            {{date | date:'mediumDate'}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                        <mat-chip *ngFor="let date of filterSpecificDatesEveryYear"
                                  class="accent"
                                  [removable]="true"
                                  (removed)="removeSpecificDateEveryYear(date)"
                                  (click)="toggleDateToSpecific(date)">
                            {{date | date:'MMM d'}}
                            <button matChipRemove>
                                <mat-icon>cancel</mat-icon>
                            </button>
                        </mat-chip>
                    </mat-chip-list>
                </div>
            </div>

            <button class="submit-button"
                    mat-raised-button
                    color="primary"
                    [disabled]="datesForm.invalid">Save</button>
        </form>
    </mat-card-content>
</mat-card>
